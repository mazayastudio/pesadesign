<header class="header text-bg-dark navbar navbar-expand-lg bd-navbar sticky-top">
	<nav class="container-xxl bd-gutter flex-wrap flex-lg-nowrap" aria-label="Main Navigation">
		<a href="/" class="navbar-brand">
			<img src="assets/logo.svg" alt="logo" width='50' height='50'>
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarNav"
			aria-controls="navbarNav"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse justify-content-center" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item"><a href="/" class="nav-link active">Home</a></li>
				<li class="nav-item"><a href="/about" class="nav-link">About</a></li>
				<li class="nav-item dropdown">
					<a href="/service" class="nav-link dropdown-toggle" role='button' data-bs-toggle="dropdown">Services</a>
					<ul class="dropdown-menu">
						<li><a class="dropdown-item" href="/service">Our Service</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="/pls-tower">PLS Tower</a></li>
						<li><a class="dropdown-item" href="/pls-cadd">PLS CADD</a></li>
						<li><a class="dropdown-item" href="/pls-pole">PLS Pole</a></li>
					</ul>
				</li>
				<li class="nav-item"><a href="/contact" class="nav-link">Contact</a></li>
				<li class="nav-item"><a href="/blog" class="nav-link">Blog</a></li>
				<li class="nav-item"><a href="/pricing" class="nav-link">Pricing</a></li>
			</ul>
			<hr>
			<div class="navbar-nav flex-row flex-wrap mt-3 d-flex d-lg-none ms-md-auto">
				<div class="nav-item dropdown">
					<div class="mode-switch">
						<button class="btn btn-sm btn-default text-secondary" id="dark" title="Use dark mode">
							<i class="bi bi-moon"></i>
						</button>
						<button class="btn btn-sm btn-default text-secondary" id="light" title="Use light mode">
							<i class="bi bi-sun"></i>
						</button>
						<button class="btn btn-sm btn-default text-secondary" id="system" title="Use system preferred mode">
							<i class="bi bi-display"></i>
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="navbar-nav flex-row flex-wrap d-none d-lg-flex ms-md-auto">
			<div class="nav-item dropdown">
				<div class="mode-switch">
					<button class="btn btn-sm btn-default text-secondary" id="dark" title="Use dark mode">
						<i class="bi bi-moon"></i>
					</button>
					<button class="btn btn-sm btn-default text-secondary" id="light" title="Use light mode">
						<i class="bi bi-sun"></i>
					</button>
					<button class="btn btn-sm btn-default text-secondary" id="system" title="Use system preferred mode">
						<i class="bi bi-display"></i>
					</button>
				</div>
			</div>
		</div>
	</nav>
</header>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		function getMode() {
			return localStorage.getItem('bs-theme') || 'system';
		}

		function getSystemMode() {
			if (window.matchMedia && window.matchMedia('(data-bs-theme: dark)').matches) {
				return 'dark';
			} else {
				return 'light';
			}
		}

		function dark() {
			document.querySelector('.header').classList.remove('text-bg-light');
			document.querySelector('.header').classList.add('text-bg-dark');
			document.querySelector('.content').classList.remove('text-bg-light');
			document.querySelector('.content').classList.add('text-bg-dark');
		}

		function light() {
			document.querySelector('.header').classList.remove('text-bg-dark');
			document.querySelector('.header').classList.add('text-bg-light');
			document.querySelector('.content').classList.remove('text-bg-dark');
			document.querySelector('.content').classList.add('text-bg-light');
		}

		function setMode() {
			const currentMode = getMode();
			const systemMode = getSystemMode();
			switch (currentMode) {
				case 'dark':
					dark();
					break;
				case 'light':
					light();
					break;
				case 'system':
					if (systemMode === 'dark') {
						light();
					} else {
						dark();
					}
					break;
			}
		}

		document.getElementById('dark').addEventListener('click', setMode);
		document.getElementById('light').addEventListener('click', setMode);
		document.getElementById('system').addEventListener('click', setMode);
	})
</script>